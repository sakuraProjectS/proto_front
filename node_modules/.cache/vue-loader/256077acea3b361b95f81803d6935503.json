{"remainingRequest":"/Users/ohirashunpei/project/sakura-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ohirashunpei/project/sakura-front/src/views/Login.vue?vue&type=style&index=0&id=26084dc2&lang=scss&scoped=true&","dependencies":[{"path":"/Users/ohirashunpei/project/sakura-front/src/views/Login.vue","mtime":1625804797515},{"path":"/Users/ohirashunpei/project/sakura-front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ohirashunpei/project/sakura-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/ohirashunpei/project/sakura-front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/ohirashunpei/project/sakura-front/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/ohirashunpei/project/sakura-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ohirashunpei/project/sakura-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxvZ2luIHsKICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIn5AL2Fzc2V0cy9iYWNrL2xvZ2luLnBuZyIpOwogIGJhY2tncm91bmQtc2l6ZTogOTUlIDk1JTsKICBmb250LWZhbWlseTogIkFyaWFsIFJvdW5kZWQgTVQgQm9sZCIsICJIZWx2ZXRpY2EgUm91bmRlZCIsIEFyaWFsLCBzYW5zLXNlcmlmOwogIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgLy8gZGlzcGxheTogYmxvY2s7CiAgLy8gZm9udC1zaXplOiA5MnB4OwogIC8vIGNvbG9yOiAjZjFlYmU1OwogIC8vIHRleHQtc2hhZG93OiAwIDhweCA5cHggI2M0YjU5ZCwgMHB4IC0ycHggMXB4ICNmZmY7CiAgLy8gZm9udC13ZWlnaHQ6IGJvbGQ7CiAgLy8gbGV0dGVyLXNwYWNpbmc6IC00cHg7CiAgLy8gdGV4dC1hbGlnbjogY2VudGVyOwogIC8vIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAvLyBwYWRkaW5nOiAzMDBweCAzMDBweDsKICAvLyB0b3A6IDE1JTsKICAvLyBsZWZ0OiA1MCU7CiAgLy8gdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKTsKICAvLyBib3JkZXItcmFkaXVzOiAyMHB4Owp9CgogIC5jb250IHsKICAvLyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIn5AL2Fzc2V0cy9iYWNrL2xvZ2luLnBuZyIpOwogIHdpZHRoOiA2MCU7CiAgfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <v-container fill-height class=\"login mt-5\">\n      <v-row justify=\"center\">\n          <img src=\"../assets/img/sakura-card.png\" width=\"180\" height=\"180\">\n      </v-row>\n\n      <v-container class=\"cont\">\n        <v-form recontainerf=\"checkForm\">\n          <v-row>\n            <v-col>\n              <v-icon>\n                mdi-account\n              </v-icon>\n            </v-col>\n            <v-col>\n              <v-text-field\n              v-model=\"lastname\"\n              label=\"姓\"\n              outlined\n              filled\n              ></v-text-field>\n            </v-col>\n            <v-col>\n              <v-text-field\n              v-model=\"firstname\"\n              label=\"名\"\n              outlined\n              filled\n              ></v-text-field>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-icon>\n              mdi-email\n            </v-icon>\n            <v-col>\n              <v-text-field\n              v-model=\"email\"\n              label=\"メールアドレス\"\n              outlined\n              filled\n              ></v-text-field>\n            </v-col>\n          </v-row>\n          <v-row>    \n            <v-icon>\n              mdi-key\n            </v-icon>\n            <v-col>\n              <v-text-field\n              v-model=\"password\"\n              type=\"password\"\n              label=\"パスワード\"\n              outlined\n              filled\n              ></v-text-field>\n            </v-col>\n          </v-row>\n          <v-row class='mb-2'> \n            <v-col>\n              <v-btn @click=\"signUp\">新規登録</v-btn>\n            </v-col>\n            <v-col>\n              <v-btn @click=\"signIn\">ログイン</v-btn>\n            </v-col>\n          </v-row>\n        </v-form>\n      </v-container>\n    </v-container>\n</template>\n\n\n<script>\nimport axios from '@/api/index'\n\nexport default {\n  data() {\n    return {\n      firstname: \"\",\n      lastname: \"\",\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      title: \"\",\n      content: \"\",\n      tasks: [],\n      comment: \"\",\n      posts: [],\n      user: {},\n    };\n  },\n  methods: {\n    async signUp() {\n      this.name =this.lastname + \" \" +this.firstname\n      console.log(this.name)\n      await axios()\n        .post(\"/auth\", {\n          email: this.email,\n          password: this.password,\n        })\n        .then((response) => {\n          localStorage.setItem(\n            \"access-token\",\n            response.headers[\"access-token\"]\n          );\n          localStorage.setItem(\"client\", response.headers[\"client\"]);\n          localStorage.setItem(\"uid\", response.headers[\"uid\"]);\n          localStorage.setItem(\"id\", response.data.data[\"id\"]);\n          this.user = {\n            uid: response.headers[\"uid\"],\n            \"access-token\": response.headers[\"access-token\"],\n            client: response.headers[\"client\"],\n            id: response.data.data[\"id\"],\n          },\n        \n          console.log(this.user),\n          this.$store.dispatch('userLogin', this.user)\n          this.$store.commit('setMessage', {\n          status: false,\n        })\n        }\n        );\n      this.id = localStorage.getItem('id')\n      console.log(this.id)\n      await axios().put('/users/' + this.id, {\n        email: this.email,\n        password: this.password,\n        name: this.name\n      },\n      {\n        headers: {\n           'access-token': localStorage.getItem('access-token'),\n            uid: localStorage.getItem('uid'),\n            client: localStorage.getItem('client'),\n          },\n      }\n      )\n      if (this.email == localStorage.getItem(\"uid\")){\n            this.$router.push({name: 'Home'})\n      }\n    },\n    signIn() {\n      console.log(this.email);\n      console.log(this.password);\n      axios()\n        .post(\"/auth/sign_in\", {\n          email: this.email,\n          password: this.password,\n        })\n        .then((response) => {\n          localStorage.setItem(\n            \"access-token\",\n            response.headers[\"access-token\"]\n          );\n          localStorage.setItem(\"client\", response.headers[\"client\"]);\n          localStorage.setItem(\"uid\", response.headers[\"uid\"]);\n          localStorage.setItem(\"id\", response.data.data[\"id\"]);\n          this.user = {\n            uid: response.headers[\"uid\"],\n            \"access-token\": response.headers[\"access-token\"],\n            client: response.headers[\"client\"],\n          },\n          this.$store.dispatch('userLogin', this.user)\n          this.$store.commit('setMessage', {\n          status: false,\n        })\n          if (this.email == response.headers[\"uid\"]){\n            this.$router.push({name: 'Home'})\n          }\n        });    \n    },\n    \n  },\n};\n</script>\n\n<style  lang=\"scss\" scoped>\n.login {\n  background-image: url(\"~@/assets/back/login.png\");\n  background-size: 95% 95%;\n  font-family: \"Arial Rounded MT Bold\", \"Helvetica Rounded\", Arial, sans-serif;\n  text-transform: uppercase;\n  // display: block;\n  // font-size: 92px;\n  // color: #f1ebe5;\n  // text-shadow: 0 8px 9px #c4b59d, 0px -2px 1px #fff;\n  // font-weight: bold;\n  // letter-spacing: -4px;\n  // text-align: center;\n  // position: absolute;\n  // padding: 300px 300px;\n  // top: 15%;\n  // left: 50%;\n  // transform: translate(-50%,-50%);\n  // border-radius: 20px;\n}\n\n  .cont {\n  // background-image: url(\"~@/assets/back/login.png\");\n  width: 60%;\n  }\n</style>\n"]}]}