{"remainingRequest":"/Users/ohirashunpei/project/sakura-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ohirashunpei/project/sakura-front/src/views/ShowRequest.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ohirashunpei/project/sakura-front/src/views/ShowRequest.vue","mtime":1625389415585},{"path":"/Users/ohirashunpei/project/sakura-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ohirashunpei/project/sakura-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ohirashunpei/project/sakura-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ohirashunpei/project/sakura-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdAL2FwaS9pbmRleCcKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvRnJpZW5kOiB7fSwKICAgICAgZnJvbUZyaWVuZDoge30sCiAgICAgIHN0YXR1czogJycsCiAgICAgIHVzZXJTZWFyY2hlZDoge30sCiAgICAgIG1haWw6ICcnLAogICAgfQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBheGlvcygpCiAgICAuZ2V0KCcvdXNlcnMvJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpICsgJy9mb2xsb3dpbmdzJywKICAgIHsKICAgICAgaGVhZGVyczogewogICAgICAgICAgJ2FjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3MtdG9rZW4nKSwKICAgICAgICAgIHVpZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VpZCcpLAogICAgICAgICAgY2xpZW50OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xpZW50JyksCiAgICAgIH0sCiAgICB9LAogICAgKQogICAgLnRoZW4ocmVzcG9uc2UgPT4gKHRoaXMudG9GcmllbmQgPSByZXNwb25zZS5kYXRhICwgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkpKSwKICAgIAogICAgYXhpb3MoKQogICAgLmdldCgnL3VzZXJzLycgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSArICcvZm9sbG93ZXJzJywKICAgIHsKICAgICAgaGVhZGVyczogewogICAgICAgICAgJ2FjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3MtdG9rZW4nKSwKICAgICAgICAgIHVpZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VpZCcpLAogICAgICAgICAgY2xpZW50OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xpZW50JyksCiAgICAgIH0sCiAgICB9LAogICAgKQogICAgLnRoZW4ocmVzcG9uc2UgPT4gKHRoaXMuZnJvbUZyaWVuZCA9IHJlc3BvbnNlLmRhdGEgLCBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKSkpCiAgfSwKCiAgbWV0aG9kczogewogICAgZGVzdHJveUZyaWVuZChpZCl7CiAgICAgICAgY29uc29sZS5sb2coaWQpCiAgICAgICAgYXhpb3MoKS5kZWxldGUoJy91c2Vycy8nICsgaWQgKycvcmVsYXRpb25zaGlwcycsICAKICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ2FjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3MtdG9rZW4nKSwKICAgICAgICAgICAgICAgIHVpZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VpZCcpLAogICAgICAgICAgICAgICAgY2xpZW50OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xpZW50JyksCiAgICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiAoCiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gcmVzcG9uc2UuZGF0YS5zdGF0dXMsIAogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSksCiAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oe3BhdGg6IHRoaXMuJHJvdXRlci5jdXJyZW50Um91dGUucGF0aCwgZm9yY2U6IHRydWV9KQogICAgICAgICkpCiAgICB9LAogICAgYWNjZXB0RnJpZW5kKGlkKXsKICAgICAgICBjb25zb2xlLmxvZyhpZCkKICAgICAgICBheGlvcygpLnB1dCgnL3VzZXJzLycgKyBpZCArJy9yZWxhdGlvbnNoaXBzJywgewogICAgICAgICAgc3RhdHVzOiAndHJ1ZScKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICdhY2Nlc3MtdG9rZW4nOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzLXRva2VuJyksCiAgICAgICAgICAgICAgdWlkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndWlkJyksCiAgICAgICAgICAgICAgY2xpZW50OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xpZW50JyksCiAgICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiAoCiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gcmVzcG9uc2UuZGF0YS5zdGF0dXMsIAogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSksCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbyh7cGF0aDogdGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5wYXRoLCBmb3JjZTogdHJ1ZX0pCiAgICAgICAgKSkKICAgIH0sCiAgICBzZWFyY2hVc2VyKCl7CiAgICAgICAgYXhpb3MoKS5nZXQoJy91c2Vycy8nICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJykgKycvc2VhcmNoJywgewogICAgICAgICAgcGFyYW1zOntlbWFpbDogdGhpcy5tYWlsfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdhY2Nlc3MtdG9rZW4nOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzLXRva2VuJyksCiAgICAgICAgICAgICAgICB1aWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1aWQnKSwKICAgICAgICAgICAgICAgIGNsaWVudDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NsaWVudCcpLAogICAgICAgICAgICB9LAogICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gKAogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSksCiAgICAgICAgICAgIHRoaXMudXNlclNlYXJjaGVkID0gcmVzcG9uc2UuZGF0YSwgCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlclNlYXJjaGVkKSwKICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKHtwYXRoOiB0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLnBhdGgsIGZvcmNlOiB0cnVlfSkKICAgICAgICApKQogICAgfSwKICAgIGZvbGxvd0ZlaW5kKGlkKXsKICAgICAgICBjb25zb2xlLmxvZyhpZCkKICAgICAgYXhpb3MoKS5wb3N0KCcvdXNlcnMvJyArIGlkICsnL3JlbGF0aW9uc2hpcHMnLCB7CiAgICAgICAgdXNlcl9pZDogaWQKICAgICAgfSwgCiAgICAgIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgJ2FjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3MtdG9rZW4nKSwKICAgICAgICAgICAgdWlkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndWlkJyksCiAgICAgICAgICAgIGNsaWVudDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NsaWVudCcpLAogICAgICAgICAgfSwKICAgICAgfQogICAgICApCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IChjb25zb2xlLmxvZyhyZXNwb25zZSkpKQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["ShowRequest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShowRequest.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <v-container>\n      <v-card class='mt-8'>\n        <v-card-title>\n          家族を検索\n        </v-card-title>\n        <v-card-text>\n          <v-text-field\n            outlined\n            v-model=\"mail\"\n            label='メールアドレス'\n          >\n          </v-text-field>\n        </v-card-text>\n        <v-card-actions>\n          <v-btn @click='searchUser'>\n            検索\n          </v-btn>\n        </v-card-actions>\n        <v-col>\n        {{userSearched.name}}\n        </v-col>\n        <v-col>\n          <v-btn v-if=\"userSearched.id > 0\"  @click='followFeind(userSearched.id)'>\n            申請\n          </v-btn>   \n        </v-col>   \n      </v-card>\n\n       <v-card class='mt-8'>\n         <v-card-title>\n           フレンド申請中\n         </v-card-title>\n        <v-list>\n          <v-list-item\n          v-for=\"(item, i) in toFriend\"\n          :key=i\n        >\n            <v-list-item-content>\n              <v-list-item-title>\n                {{item.name}}\n              </v-list-item-title>\n            </v-list-item-content>\n            <v-list-item-action>\n                <v-btn @click='destroyFriend(item.id)'>\n                    削除\n                </v-btn>\n            </v-list-item-action>\n          </v-list-item>\n        </v-list>\n      </v-card>\n\n      <v-card class='mt-8'>\n        <v-card-title>\n          申請されいているフレンド\n        </v-card-title>\n        <v-list>\n          <v-list-item\n          v-for=\"(item, i) in fromFriend\"\n          :key=i\n        >\n            <v-list-item-content>\n              <v-list-item-title>\n                {{item.name}}\n              </v-list-item-title>\n            </v-list-item-content>\n            <v-list-item-action>\n                <v-btn @click='acceptFriend(item.id)'>\n                    承諾\n                </v-btn>\n                <v-btn @click='destroyFriend(item.id)'>\n                    削除\n                </v-btn>\n            </v-list-item-action>\n          </v-list-item>\n        </v-list>\n      </v-card>\n\n    </v-container>\n</template>\n\n\n<script>\nimport axios from '@/api/index'\n\nexport default {\n  data () {\n    return {\n      toFriend: {},\n      fromFriend: {},\n      status: '',\n      userSearched: {},\n      mail: '',\n    }\n  },\n\n  mounted() {\n    axios()\n    .get('/users/' + localStorage.getItem('id') + '/followings',\n    {\n      headers: {\n          'access-token': localStorage.getItem('access-token'),\n          uid: localStorage.getItem('uid'),\n          client: localStorage.getItem('client'),\n      },\n    },\n    )\n    .then(response => (this.toFriend = response.data , console.log(response.data))),\n    \n    axios()\n    .get('/users/' + localStorage.getItem('id') + '/followers',\n    {\n      headers: {\n          'access-token': localStorage.getItem('access-token'),\n          uid: localStorage.getItem('uid'),\n          client: localStorage.getItem('client'),\n      },\n    },\n    )\n    .then(response => (this.fromFriend = response.data , console.log(response.data)))\n  },\n\n  methods: {\n    destroyFriend(id){\n        console.log(id)\n        axios().delete('/users/' + id +'/relationships',  \n        {\n            headers: {\n            'access-token': localStorage.getItem('access-token'),\n                uid: localStorage.getItem('uid'),\n                client: localStorage.getItem('client'),\n            },\n        }\n        )\n        .then(response => (\n            this.status = response.data.status, \n            console.log(response),\n             this.$router.go({path: this.$router.currentRoute.path, force: true})\n        ))\n    },\n    acceptFriend(id){\n        console.log(id)\n        axios().put('/users/' + id +'/relationships', {\n          status: 'true'\n        },\n        {\n            headers: {\n              'access-token': localStorage.getItem('access-token'),\n              uid: localStorage.getItem('uid'),\n              client: localStorage.getItem('client'),\n            },\n        }\n        )\n        .then(response => (\n            this.status = response.data.status, \n            console.log(response),\n            this.$router.go({path: this.$router.currentRoute.path, force: true})\n        ))\n    },\n    searchUser(){\n        axios().get('/users/' + localStorage.getItem('id') +'/search', {\n          params:{email: this.mail}\n        },\n        {\n            headers: {\n            'access-token': localStorage.getItem('access-token'),\n                uid: localStorage.getItem('uid'),\n                client: localStorage.getItem('client'),\n            },\n        }\n        )\n        .then(response => (\n            console.log(response),\n            this.userSearched = response.data, \n            console.log(this.userSearched),\n            this.$router.go({path: this.$router.currentRoute.path, force: true})\n        ))\n    },\n    followFeind(id){\n        console.log(id)\n      axios().post('/users/' + id +'/relationships', {\n        user_id: id\n      }, \n      {\n        headers: {\n           'access-token': localStorage.getItem('access-token'),\n            uid: localStorage.getItem('uid'),\n            client: localStorage.getItem('client'),\n          },\n      }\n      )\n      .then(response => (console.log(response)))\n    },\n  },\n}\n</script>"]}]}