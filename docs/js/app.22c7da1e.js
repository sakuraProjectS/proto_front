(function(t){function e(e){for(var s,o,i=e[0],l=e[1],c=e[2],m=0,d=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},r=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/sakura-front/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"006b":function(t,e,a){t.exports=a.p+"img/sakura-logo.a9c7be11.png"},"0724":function(t,e,a){},"2a37":function(t,e,a){"use strict";a("5ccf")},"3e11":function(t,e,a){t.exports=a.p+"img/kame.9b31ae1e.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",{staticClass:"v-application"},[a("router-view")],1)],1)},r=[],o=(a("b0c0"),{data:function(){return{isActive:!1}},name:"App",components:{},mounted:function(){"Login"!=this.$route.name&&(this.isActive=!0)}}),i=o,l=(a("ac29"),a("2877")),c=a("6544"),u=a.n(c),m=a("7496"),d=a("f6c4"),v=Object(l["a"])(i,n,r,!1,null,"fa0249ce",null),g=v.exports;u()(v,{VApp:m["a"],VMain:d["a"]});var h=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"mt-15"},[a("v-col",{attrs:{cols:"3"}},[a("v-btn",{attrs:{icon:""},on:{click:t.sendMessage}},[a("v-icon",{attrs:{"x-large":""}},[t._v(" mdi-email ")])],1)],1),a("v-col",{attrs:{cols:"9"}},[a("v-card",[a("v-card-text",[t._v(" 連絡先 ")])],1)],1)],1),a("v-row",{staticClass:"mt-10"},[a("v-col",{attrs:{cols:"3"}},[a("v-btn",{attrs:{icon:""},on:{click:t.receiveMessage}},[a("v-icon",{attrs:{"x-large":""}},[t._v(" mdi-bell ")])],1)],1),a("v-col",{attrs:{cols:"9"}},[a("v-card",[a("v-card-text",[t._v(" タイムライン ")])],1)],1)],1),a("v-row",{staticClass:"mt-10"},[a("v-col",{attrs:{cols:"3"}},[a("v-btn",{attrs:{icon:""},on:{click:t.requestFriend}},[a("v-icon",{attrs:{"x-large":""}},[t._v(" mdi-account-search ")])],1)],1),a("v-col",{attrs:{cols:"9"}},[a("v-card",[a("v-card-text",[t._v(" フレンド申請 ")])],1)],1)],1),a("v-row",{staticClass:"mt-10"},[a("v-col",{attrs:{cols:"3"}},[a("v-btn",{attrs:{icon:""},on:{click:t.showProfile}},[a("v-icon",{attrs:{"x-large":""}},[t._v(" mdi-account ")])],1)],1),a("v-col",{attrs:{cols:"9"}},[a("v-card",[a("v-card-text",[t._v(" プロフィール ")])],1)],1)],1)],1)},p=[],_={data:function(){return{}},methods:{showProfile:function(){this.$router.push({name:"Profile"})},inviteFamiliy:function(){this.$router.push({name:"ShowRequest"})},sendMessage:function(){this.$router.push({name:"Send"})},receiveMessage:function(){this.$router.push({name:"TimeLine"})},requestFriend:function(){this.$router.push({name:"ShowRequest"})}}},b=_,k=a("8336"),w=a("b0af"),I=a("99d9"),V=a("62ad"),x=a("a523"),C=a("132d"),y=a("0fd9"),S=Object(l["a"])(b,f,p,!1,null,null,null),L=S.exports;u()(S,{VBtn:k["a"],VCard:w["a"],VCardText:I["b"],VCol:V["a"],VContainer:x["a"],VIcon:C["a"],VRow:y["a"]});var j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",{staticClass:"mt-5",attrs:{justify:"center"}},[s("img",{attrs:{src:a("006b"),width:"180",height:"180"}})]),s("v-layout",{staticClass:"justify-center",attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm10:"",md8:""}},[s("v-row",{staticClass:"ml-3 mr-3 mt-7"},[s("v-col",[s("v-text-field",{attrs:{label:"姓",outlined:"",filled:"",rounded:"","background-color":"grey lighten-5"},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}})],1),s("v-col",[s("v-text-field",{attrs:{label:"名",outlined:"",filled:"",rounded:"","background-color":"grey lighten-5"},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}})],1)],1),s("v-row",{staticClass:"ml-3 mr-3 mt-n7"},[s("v-col",[s("v-text-field",{attrs:{label:"メールアドレス",outlined:"",filled:"",rounded:"","background-color":"grey lighten-5"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),s("v-row",{staticClass:"ml-3 mr-3 mt-n7"},[s("v-col",[s("v-text-field",{attrs:{type:"password",label:"パスワード",outlined:"",filled:"",rounded:"","background-color":"grey lighten-5"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),s("div",{staticClass:"text-center"},[s("v-row",{staticClass:"mt-n5",attrs:{align:"center"}},[s("v-col",[s("v-btn",{attrs:{depressed:"",rounded:"",color:"blue lighten-3","x-large":""},on:{click:t.signIn}},[t._v(" ログイン ")])],1)],1),s("v-row",{staticClass:"mt-n1",attrs:{align:"center"}},[s("v-col",[s("v-btn",{attrs:{depressed:"",rounded:"",color:"grey lighten-2","x-large":""},on:{click:t.signUp}},[t._v(" 新規ユーザー登録 ")])],1)],1),s("v-row",{staticClass:"justify-center"},[s("v-switch",{staticClass:"ma-1",attrs:{label:"次回から自動ログインする"},model:{value:t.auto,callback:function(e){t.auto=e},expression:"auto"}})],1)],1)],1)},R=[],$=a("1da1"),O=(a("96cf"),a("bc3a")),F=a.n(O),P=function(){return F.a.create({baseURL:"https://13.114.43.226/v1"})},M={data:function(){return{firstname:"",lastname:"",name:"",email:"",password:"",title:"",content:"",tasks:[],comment:"",posts:[],user:{},auto:""}},methods:{signUp:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.name=t.lastname+" "+t.firstname,console.log(t.name),e.next=4,P().post("/auth",{email:t.email,password:t.password}).then((function(e){localStorage.setItem("access-token",e.headers["access-token"]),localStorage.setItem("client",e.headers["client"]),localStorage.setItem("uid",e.headers["uid"]),localStorage.setItem("id",e.data.data["id"]),t.user={uid:e.headers["uid"],"access-token":e.headers["access-token"],client:e.headers["client"],id:e.data.data["id"]},console.log(t.user),t.$store.dispatch("userLogin",t.user),t.$store.commit("setMessage",{status:!1})}));case 4:return t.id=localStorage.getItem("id"),console.log(t.id),e.next=8,P().put("/users/"+t.id,{email:t.email,password:t.password,name:t.name},{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}});case 8:t.email==localStorage.getItem("uid")&&t.$router.push({name:"TimeLine"});case 9:case"end":return e.stop()}}),e)})))()},signIn:function(){var t=this;console.log(this.email),console.log(this.password),P().post("/auth/sign_in",{email:this.email,password:this.password}).then((function(e){localStorage.setItem("access-token",e.headers["access-token"]),localStorage.setItem("client",e.headers["client"]),localStorage.setItem("uid",e.headers["uid"]),localStorage.setItem("id",e.data.data["id"]),t.user={uid:e.headers["uid"],"access-token":e.headers["access-token"],client:e.headers["client"]},t.$store.dispatch("userLogin",t.user),t.$store.commit("setMessage",{status:!1}),t.email==e.headers["uid"]&&t.$router.push({name:"TimeLine"})}))}}},D=M,T=a("0e8f"),E=a("a722"),A=a("b73d"),U=a("8654"),B=Object(l["a"])(D,j,R,!1,null,null,null),z=B.exports;u()(B,{VBtn:k["a"],VCol:V["a"],VContainer:x["a"],VFlex:T["a"],VLayout:E["a"],VRow:y["a"],VSwitch:A["a"],VTextField:U["a"]});var q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"mt-3 ml-3"},[a("p",{staticClass:"text-h6"},[t._v(" 連絡先 ")])]),a("v-row",{staticClass:"mr-2 mt-0"},[a("v-col",{attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:""},on:{click:t.returnPage}},[a("v-icon",[t._v(" mdi-arrow-left-thick ")])],1)],1),a("v-col",{attrs:{cols:"10"}}),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:""},on:{click:t.showRequest}},[a("v-icon",[t._v(" mdi-account-plus ")])],1)],1)],1),a("v-divider"),a("v-row",{staticClass:"mt-3"},[a("v-layout",{staticClass:"justify-center align-center",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm10:"",md10:""}},[a("v-card",{attrs:{color:"rgb(0, 0, 0, 0)",elevation:"0"}},[a("v-list",{attrs:{color:"rgb(0, 0, 0, 0)","two-line":""}},[t._l(t.frineds,(function(e){return[a("v-list-item",{key:e.name},[a("v-row",[a("v-col",[a("v-row",[a("v-list-item-icon",[a("v-avatar",{attrs:{size:"50"}},[a("img",{attrs:{src:t.railsURL+e.avatar_url}})])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h8"},[t._v(" "+t._s(e.name))]),a("v-list-item-subtitle",[t._v(" "+t._s(e.birthdate))])],1)],1)],1),a("v-col",{staticClass:"mr-1 mt-3",attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.showProfile(e.id)}}},[a("v-icon",[t._v(" mdi-alpha-i-circle ")])],1)],1),a("v-col",{staticClass:"mr-5 mt-3",attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.editMessage(e.id)}}},[a("v-icon",[t._v(" mdi-email ")])],1)],1)],1)],1)]}))],2)],1)],1)],1)],1)],1)},H=[],N={data:function(){return{frineds:{},dialog:!1,select:{name:null,avatar:null,birthdate:null},railsURL:"https://13.114.43.226"}},mounted:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P().get("/family/"+localStorage.getItem("id"),{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return console.log(e.data),t.frineds=e.data}));case 2:case"end":return e.stop()}}),e)})))()},methods:{editMessage:function(t){this.$router.push({name:"SendMessage",params:{to_id:t}})},showProfile:function(t){this.$router.push({name:"OtherProfile",params:{profile_id:t}})},showRequest:function(){this.$router.push({name:"ShowRequest"})},returnPage:function(){this.$router.push({name:"TimeLine"})}}},Y=N,G=a("8212"),J=a("ce7e"),K=a("8860"),Q=a("da13"),W=a("5d23"),X=a("34c3"),Z=Object(l["a"])(Y,q,H,!1,null,null,null),tt=Z.exports;u()(Z,{VAvatar:G["a"],VBtn:k["a"],VCard:w["a"],VCol:V["a"],VContainer:x["a"],VDivider:J["a"],VFlex:T["a"],VIcon:C["a"],VLayout:E["a"],VList:K["a"],VListItem:Q["a"],VListItemContent:W["a"],VListItemIcon:X["a"],VListItemSubtitle:W["b"],VListItemTitle:W["c"],VRow:y["a"]});var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",[a("v-list",[t._l(t.messages,(function(e,s){return[a("v-list-item",{key:s,on:{click:function(a){return t.showMessage(e)}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(e.from)+"さんからメッセージが届いています ")])],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.deleteMessage(e)}}},[a("v-icon",[t._v(" mdi-delete ")])],1)],1)],1),s+1<t.messages.length?a("v-divider",{key:"divider-"+s}):t._e()]}))],2)],1)],1)},at=[],st={data:function(){return{search:"",messages:{},recieved:{}}},mounted:function(){var t=this;P().get("/searches",{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.messages=e.data}))},methods:{deleteMessage:function(t){P().delete("/messages/".concat(t.id),{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}})},showMessage:function(t){this.$router.push({name:"Message",params:{content:t}})}}},nt=st,rt=a("1800"),ot=Object(l["a"])(nt,et,at,!1,null,null,null),it=ot.exports;u()(ot,{VBtn:k["a"],VCard:w["a"],VContainer:x["a"],VDivider:J["a"],VIcon:C["a"],VList:K["a"],VListItem:Q["a"],VListItemAction:rt["a"],VListItemContent:W["a"],VListItemTitle:W["c"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"mt-3 ml-3"},[a("p",{staticClass:"text-h6"},[t._v(" メッセージ ")])]),a("v-row",{staticClass:"mr-2 mt-0 mb-0"},[a("v-col",{attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:""},on:{click:t.returnPage}},[a("v-icon",[t._v(" mdi-arrow-left-thick ")])],1)],1)],1),a("v-divider",{staticClass:"mt-0"}),a("v-layout",{staticClass:"mt-0",attrs:{wrap:""}},[a("v-flex",{attrs:{xs:"12",sm:"10",md:"6"}},[a("v-card",{staticClass:"mt-3",attrs:{height:"550",rounded:"xl"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"mt-1"},[a("v-col",{staticClass:"mt-3 ml-1",attrs:{cols:"2"}},[a("v-img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.railsURL+t.avatar_url,"max-height":"50","max-width":"40"}})],1),a("v-col",[a("v-divider",{attrs:{vertical:""}})],1),a("v-col",{staticClass:"ml-0",attrs:{cols:"9"}},[a("v-row",{staticClass:"text-h8"},[t._v(" "+t._s(t.from_name)+" ")]),a("v-row",{staticClass:"text-caption"},[t._v(" "+t._s(t.message.title)+" ")]),a("v-row",{staticClass:"text-overline ma-0 pa-0",attrs:{justify:"center"}},[t._v(" "+t._s(t.message.time)+" ")]),a("v-row",{staticClass:"text-overline ma-0 pa-0",attrs:{justify:"center"}},[a("v-icon",[t._v(" mdi-arrow-up ")])],1),a("v-row",{staticClass:"text-overline ma-0 pa-0",attrs:{justify:"center"}},[t._v(" "+t._s(t.message.created_time)+" ")])],1)],1),a("v-divider",{staticClass:"mt-1"}),a("v-row",{staticClass:"mt-5 ml-2 mr-2"},[t._v(" "+t._s(t.message.body)+" ")]),a("v-row",{staticClass:"mt-10 ml-2 mr-2"},[a("v-img",{attrs:{src:t.railsURL+t.message.image_url,height:"100",width:"100"}})],1)],1)],1)],1)],1)],1)},ct=[],ut=(a("fb6a"),""),mt="",dt={data:function(){return{message_id:"",message:{},uploadedImage:"",railsURL:"https://13.114.43.226",avatar_url:"",from_name:""}},created:function(){this.message_id=this.$route.params.message_id,this.avatar_url=this.$route.params.avatar_url,this.from_name=this.$route.params.from_name},mounted:function(){var t=this;P().get("/users/"+localStorage.getItem("id")+"/messages/"+this.message_id,{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.message=e.data,ut=new Date(1e3*t.message.time),t.message.time=ut.getFullYear()+"/"+("0"+(ut.getMonth()+1)).slice(-2)+"/"+("0"+ut.getDate()).slice(-2)+" "+("0"+ut.getHours()).slice(-2)+":"+("0"+ut.getMinutes()).slice(-2),mt=new Date(1e3*t.message.created_time),t.message.created_time=mt.getFullYear()+"/"+("0"+(mt.getMonth()+1)).slice(-2)+"/"+("0"+mt.getDate()).slice(-2)+" "+("0"+mt.getHours()).slice(-2)+":"+("0"+mt.getMinutes()).slice(-2)}))},methods:{returnPage:function(){this.$router.push({name:"TimeLine"})}}},vt=dt,gt=a("adda"),ht=Object(l["a"])(vt,lt,ct,!1,null,null,null),ft=ht.exports;u()(ht,{VBtn:k["a"],VCard:w["a"],VCol:V["a"],VContainer:x["a"],VDivider:J["a"],VFlex:T["a"],VIcon:C["a"],VImg:gt["a"],VLayout:E["a"],VRow:y["a"]});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"bg",attrs:{fluid:"","fill-height":""}},[a("v-layout",{staticClass:"justify-center align-center",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm9:"",md6:""}},[a("v-row",[a("v-btn",{attrs:{icon:""},on:{click:t.returnPage}},[a("v-icon",[t._v(" mdi-arrow-left-thick ")])],1)],1),a("v-row",{staticClass:"mb-5 mt-5",attrs:{justify:"center"}},[a("v-avatar",{attrs:{size:"100"}},[a("v-img",{attrs:{src:t.railsURL+t.profile.avatar}})],1)],1),a("v-card",{attrs:{height:"450",rounded:"xl"}},[a("v-container",[a("v-row",[a("v-col",[a("v-list",{attrs:{"two-line":""}},[t._l(t.items,(function(e,s,n){return[a("v-list-item",{key:s},[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(s)+" ")]),a("v-list-item-subtitle",[t._v(" "+t._s(e)+" ")])],1)],1),n<Object.keys(t.items).length?a("v-divider",{key:e}):t._e()]}))],2)],1)],1)],1)],1)],1)],1)],1)},_t=[],bt={props:["profile_id"],data:function(){return{profile:{avatar:""},post:{},uploadedImage:"",items:{},railsURL:"https://13.114.43.226"}},mounted:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P().get("/profile/"+t.profile_id,{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.profile.avatar=e.data.avatar_url,t.items["Name"]=e.data.name,t.items["Date of birth"]=e.data.birthdate,t.items["E-mail"]=e.data.email,console.log(t.items)}));case 2:case"end":return e.stop()}}),e)})))()},methods:{returnPage:function(){this.$router.push({name:"Send"})}}},kt=bt,wt=(a("dd18"),Object(l["a"])(kt,pt,_t,!1,null,null,null)),It=wt.exports;u()(wt,{VAvatar:G["a"],VBtn:k["a"],VCard:w["a"],VCol:V["a"],VContainer:x["a"],VDivider:J["a"],VFlex:T["a"],VIcon:C["a"],VImg:gt["a"],VLayout:E["a"],VList:K["a"],VListItem:Q["a"],VListItemContent:W["a"],VListItemSubtitle:W["b"],VListItemTitle:W["c"],VRow:y["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"bg",attrs:{fluid:"","fill-height":""}},[a("v-row",{staticClass:"mt-3 ml-3"},[a("p",{staticClass:"text-h6"},[t._v(" プロフィール ")])]),a("v-row",{staticClass:"mr-2 mt-0 mb-0"},[a("v-col",{attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:""},on:{click:t.returnPage}},[a("v-icon",[t._v(" mdi-arrow-left-thick ")])],1)],1),a("v-col",{attrs:{cols:"10"}}),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:""},on:{click:t.editProfile}},[a("v-icon",[t._v(" mdi-pen ")])],1)],1)],1),a("v-layout",{staticClass:"justify-center",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm9:"",md6:""}},[a("v-divider",{staticClass:"mt-0"}),a("v-row",{staticClass:"mb-5 mt-5",attrs:{justify:"center"}},[a("v-avatar",{attrs:{size:"100"}},[a("v-img",{attrs:{src:t.railsURL+t.profile.avatar}})],1)],1),a("v-card",{attrs:{height:"450",rounded:"xl"}},[a("v-container",[a("v-row",[a("v-col",[a("v-list",{attrs:{"two-line":""}},[t._l(t.items,(function(e,s,n){return[a("v-list-item",{key:s},[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(s)+" ")]),a("v-list-item-subtitle",[t._v(" "+t._s(e)+" ")])],1)],1),n<Object.keys(t.items).length?a("v-divider",{key:e}):t._e()]}))],2)],1)],1)],1)],1)],1)],1)],1)},xt=[],Ct={data:function(){return{profile:{avatar:""},post:{},uploadedImage:"",items:{},railsURL:"https://13.114.43.226"}},mounted:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P().get("/profile/"+localStorage.getItem("id"),{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.profile.avatar=e.data.avatar_url,t.items["Name"]=e.data.name,t.items["Date of birth"]=e.data.birthdate,t.items["E-mail"]=e.data.email,console.log(t.items)}));case 2:case"end":return e.stop()}}),e)})))()},methods:{editProfile:function(){console.log(this.profile.avatar),console.log(this.items["Name"]),console.log(this.items["Date of birth"]),this.$router.push({name:"ProfileEdit"})},returnPage:function(){this.$router.push({name:"TimeLine"})}}},yt=Ct,St=(a("2a37"),Object(l["a"])(yt,Vt,xt,!1,null,null,null)),Lt=St.exports;u()(St,{VAvatar:G["a"],VBtn:k["a"],VCard:w["a"],VCol:V["a"],VContainer:x["a"],VDivider:J["a"],VFlex:T["a"],VIcon:C["a"],VImg:gt["a"],VLayout:E["a"],VList:K["a"],VListItem:Q["a"],VListItemContent:W["a"],VListItemSubtitle:W["b"],VListItemTitle:W["c"],VRow:y["a"]});var jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"bg",attrs:{fluid:"","fill-height":""}},[a("v-row",{staticClass:"mt-3 ml-3"},[a("p",{staticClass:"text-h6"},[t._v(" プロフィール編集")])]),a("v-row",{staticClass:"ml-1"},[a("v-btn",{attrs:{icon:""},on:{click:t.returnPage}},[a("v-icon",[t._v(" mdi-arrow-left-thick ")])],1)],1),a("v-layout",{staticClass:"justify-center",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm9:"",md6:""}},[a("v-divider",{staticClass:"mt-4"}),a("v-row",{staticClass:"mt-10 mb-15",attrs:{justify:"center"}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.dialog_avatar=!0}}},[a("v-avatar",{attrs:{size:"100"}},[a("v-img",{attrs:{src:t.railsURL+t.profile.avatar}})],1)],1),a("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},model:{value:t.dialog_avatar,callback:function(e){t.dialog_avatar=e},expression:"dialog_avatar"}},[a("v-card",[a("v-card-title",[t._v(" プロフィール画像を変更 ")]),a("input",{ref:"file",attrs:{name:"uploadedImage",type:"file",accept:"image/png, image/jpeg"},on:{change:t.onFileChange}}),a("br"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.postItem}},[a("v-icon",[t._v(" mdi-book ")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.dialog_avatar=!1}}},[a("v-icon",[t._v(" mdi-close ")])],1)],1)],1)],1)],1),a("v-card",{attrs:{height:"450",rounded:"xl"}},[a("v-container",[a("v-row",[a("v-col",[a("v-list",{attrs:{"two-line":""}},[t._l(t.items,(function(e,s,n){return[a("v-list-item",{key:s},[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(s)+" ")]),a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("v-list-item-subtitle",[t._v(" "+t._s(e)+" ")])],1),a("v-col",[0===n?a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.dialog_0=!0}}},[a("v-icon",[t._v(" mdi-pen ")])],1)],1):t._e(),1===n?a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.dialog_1=!0}}},[a("v-icon",[t._v(" mdi-pen ")])],1)],1):t._e()])],1)],1)],1),n<Object.keys(t.items).length?a("v-divider",{key:e}):t._e()]}))],2)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.dialog_1,callback:function(e){t.dialog_1=e},expression:"dialog_1"}},[a("v-card",{attrs:{rounded:"xl"}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("生年月日")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-select",{attrs:{items:t.yearrange,label:"年"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1),a("v-col",[a("v-select",{attrs:{items:t.monthrange,label:"月"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),a("v-col",[a("v-select",{attrs:{items:t.daysrange,label:"日"},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog_1=!1}}},[t._v(" Close ")]),a("v-btn",{attrs:{icon:"",dialog_1:"false"},on:{click:t.registerBirthdate}},[a("v-icon",[t._v(" mdi-check")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.dialog_0,callback:function(e){t.dialog_0=e},expression:"dialog_0"}},[a("v-card",{attrs:{rounded:"xl"}},[a("v-row",{staticClass:"ml-3 mr-3 mt-7"},[a("v-col",[a("v-text-field",{attrs:{label:"姓",outlined:"",filled:"",rounded:"","background-color":"grey lighten-5"},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"名",outlined:"",filled:"",rounded:"","background-color":"grey lighten-5"},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog_0=!1}}},[t._v(" Close ")]),a("v-btn",{attrs:{icon:"",dialog_0:"false"},on:{click:t.registerBirthdate}},[a("v-icon",[t._v(" mdi-check")])],1)],1)],1)],1)],1)],1)],1)},Rt=[],$t=a("2909"),Ot=(a("d81d"),a("cb29"),1930),Ft=2030,Pt=new Array(Ft-Ot+1).fill(null).map((function(t,e){return e+Ot})),Mt=1,Dt=12,Tt=new Array(Dt-Mt+1).fill(null).map((function(t,e){return e+Mt})),Et=Object($t["a"])(Array(31)).map((function(t,e){return e})),At={data:function(){return{year:"",yearrange:Pt,month:"",monthrange:Tt,day:"",daysrange:Et,dialog_0:!1,dialog_1:!1,dialog_avatar:!1,post:{},uploadedImage:"",items:{},profile:{avatar:""},lastname:"",firstname:"",railsURL:"https://13.114.43.226"}},mounted:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P().get("/profile/"+localStorage.getItem("id"),{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.profile.avatar=e.data.avatar_url,t.items["Name"]=e.data.name,t.items["Date of birth"]=e.data.birthdate,t.items["E-mail"]=e.data.email,console.log(t.items)}));case 2:case"end":return e.stop()}}),e)})))()},methods:{registerBirthdate:function(){var t=this;P().put("/update_birthdate/",{id:localStorage.getItem("id"),year:this.year,month:this.month,day:this.day},{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return console.log(e),t.$router.push({name:"Profile"})}))},onFileChange:function(t){t.preventDefault();var e=t.target.files;this.uploadedImage=e[0],this.profile.avatar=this.uploadedImage,console.log(e),console.log(this.uploadedImage)},postItem:function(){var t=this,e=new FormData;e.append("avatar",this.uploadedImage),e.append("id",localStorage.getItem("id")),console.log(e),P().put("/update_avatar",e,{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){t.uploadedImage="",t.$refs.file.value="",t.profile.avatar=e.data.avatar,console.log(e),t.$router.push({name:"Profile"})})).catch((function(t){console.log(t)}))},returnPage:function(){this.$router.push({name:"Profile"})}}},Ut=At,Bt=(a("e46a"),a("169a")),zt=a("b974"),qt=a("2fa4"),Ht=Object(l["a"])(Ut,jt,Rt,!1,null,null,null),Nt=Ht.exports;u()(Ht,{VAvatar:G["a"],VBtn:k["a"],VCard:w["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:V["a"],VContainer:x["a"],VDialog:Bt["a"],VDivider:J["a"],VFlex:T["a"],VIcon:C["a"],VImg:gt["a"],VLayout:E["a"],VList:K["a"],VListItem:Q["a"],VListItemContent:W["a"],VListItemSubtitle:W["b"],VListItemTitle:W["c"],VRow:y["a"],VSelect:zt["a"],VSpacer:qt["a"],VTextField:U["a"]});var Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{wrap:""}},t._l(t.messages,(function(e){return a("v-flex",{key:e.to_data,attrs:{xs12:"",md6:"",lg3:""}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(e.name)+" ")])],1)],1)})),1)},Gt=[],Jt={data:function(){return{cardsize:"",messages:[{name:"田中 敏之",title:"誕生日おめでとう",body:"lkcnapkcnsakcnakncaspcnakpnakascacaca",from_date:"2021/03/21",to_date:"2021/05/23"},{name:"田中 権左衛門",title:"誕生日おめでとう",body:"lkcnapkcnsakcnakncaspcnakpnakascacaca",from_date:"2021/03/21",to_date:"2021/05/23"}]}},mounted:function(){switch(console.log(this.$vuetify.breakpoint.name),this.$vuetify.breakpoint.name){case"xs":this.cardsize=220;break;case"sm":this.cardsize=400;break;case"md":this.cardsize=500;break;case"lg":this.cardsize=600;break;case"xl":this.cardsize=800;break}}},Kt=Jt,Qt=Object(l["a"])(Kt,Yt,Gt,!1,null,null,null),Wt=Qt.exports;u()(Qt,{VCard:w["a"],VCardTitle:I["c"],VFlex:T["a"],VLayout:E["a"]});var Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",{staticClass:"mt-3 ml-3"},[s("p",{staticClass:"text-h6"},[t._v(" ホーム ")])]),s("v-row",{attrs:{justify:"end"}},[s("v-col",{attrs:{cols:"2"}},[s("v-btn",{attrs:{icon:""}},[s("v-icon",{attrs:{large:""}},[t._v(" mdi-bell-outline ")])],1)],1),s("v-col",{attrs:{cols:"2"}},[s("v-btn",{attrs:{icon:""}},[s("v-icon",{attrs:{large:""}},[t._v(" mdi-pencil-outline ")])],1)],1),s("v-col",{attrs:{cols:"2"}},[s("v-btn",{attrs:{icon:""},on:{click:t.showFriend}},[s("v-icon",{attrs:{large:""}},[t._v(" mdi-account-outline ")])],1)],1),s("v-col",{attrs:{cols:"2"}},[s("v-btn",{attrs:{icon:""},on:{click:t.showProfile}},[s("v-avatar",{attrs:{size:"30"}},[s("v-img",{attrs:{src:t.railsURL+t.myavatar}})],1)],1)],1)],1),s("v-divider"),s("v-row",{staticClass:"mt-5 mb-3",attrs:{justify:"center"}},[t.content>0?s("v-tab",[s("v-badge",{attrs:{color:"pink",icon:"mdi-heart"}},[s("v-badge",{attrs:{color:"pink",content:t.content,bottom:""}},[s("v-img",{attrs:{src:a("3e11"),"max-height":"60","max-width":"60"}})],1)],1)],1):t._e(),0===t.content?s("v-tab",[s("v-badge",{attrs:{color:"pink",icon:"mdi-heart"}},[s("v-img",{attrs:{src:a("3e11"),"max-height":"60","max-width":"60"}})],1)],1):t._e()],1),s("v-layout",{attrs:{wrap:""}},t._l(t.sortedmessages,(function(e,a){return s("v-flex",{key:e.time,staticClass:"mt-5",attrs:{xs12:"",sm9:"",md6:""}},[s("v-row",{staticClass:"ma-1 mt-15",attrs:{align:"center",justify:"center"}},[s("v-btn",{attrs:{icon:""},on:{click:function(s){return t.showContent(e,a)}}},[s("v-card",{attrs:{height:"95",rounded:"xl",width:"100%"}},[s("v-container",[s("v-row",[s("v-col",{staticClass:"mt-3 ml-1",attrs:{cols:"2"}},[s("v-img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.railsURL+t.avatar_urls[a],"max-height":"40","max-width":"40"}})],1),s("v-col",[s("v-divider",{attrs:{vertical:""}})],1),s("v-col",{staticClass:"ml-0",attrs:{cols:"9"}},[s("v-row",{staticClass:"text-h8"},[t._v(" "+t._s(t.users_name[a])+" ")]),s("v-row",{staticClass:"text-caption"},[t._v(" "+t._s(e.title)+" ")]),s("v-row",{staticClass:"text-overline",attrs:{justify:"center"}},[t._v(" "+t._s(e.time)+"←"+t._s(e.created_time)+" ")])],1)],1)],1)],1)],1)],1)],1)})),1)],1)},Zt=[],te=(a("159b"),""),ee="",ae={data:function(){return{messages:[],dialog:!1,railsURL:"https://13.114.43.226",users:[],avatar_urls:[],users_name:[],myavatar:"",sending_messages:[],content:"",sortedMessages:[]}},methods:{saveComment:function(){console.log("aaaaa"),console.log(this.messages)},showFriend:function(){this.$router.push({name:"Send"})},showProfile:function(){this.$router.push({name:"Profile"})},showContent:function(t,e){this.$router.push({name:"MessageContent",params:{message_id:t.id,avatar_url:this.avatar_urls[e],from_name:this.users_name[e]}})},deleteMessage:function(t){var e=this;P().delete("/messages/"+t.id,{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(t){console.log(t),e.$router.go({path:e.$router.currentRoute.path,force:!0})})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P().get("/profile/"+localStorage.getItem("id"),{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.myavatar=e.data.avatar_url,console.log(t.items)}));case 2:return e.next=4,P().get("/users/"+localStorage.getItem("id")+"/messages",{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.messages=e.data.messages,t.messages.forEach((function(t){return te=new Date(1e3*t.time),t.time=te.getFullYear()+"/"+("0"+(te.getMonth()+1)).slice(-2)+"/"+("0"+te.getDate()).slice(-2)+" "+("0"+te.getHours()).slice(-2)+":"+("0"+te.getMinutes()).slice(-2),ee=new Date(1e3*t.created_time),t.created_time=ee.getFullYear()+"/"+("0"+(ee.getMonth()+1)).slice(-2)+"/"+("0"+ee.getDate()).slice(-2)+" "+("0"+ee.getHours()).slice(-2)+":"+("0"+ee.getMinutes()).slice(-2)})),t.users=e.data.users}));case 4:return t.users.forEach((function(e){return P().get("users/"+e.id,{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.users_name.push(e.data.name),t.avatar_urls.push(e.data.avatar_url),console.log(e)}))})),e.next=7,P().get("/sending/",{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return console.log(e),t.sending_messages=e.data.messages,t.content=t.sending_messages.length}));case 7:case"end":return e.stop()}}),e)})))()},computed:{sortedmessages:function(){return this.messages.slice().sort((function(t,e){return t.time>e.time?-1:t.time<e.time?1:0}))}}},se=ae,ne=a("4ca6"),re=a("71a3"),oe=Object(l["a"])(se,Xt,Zt,!1,null,null,null),ie=oe.exports;u()(oe,{VAvatar:G["a"],VBadge:ne["a"],VBtn:k["a"],VCard:w["a"],VCol:V["a"],VContainer:x["a"],VDivider:J["a"],VFlex:T["a"],VIcon:C["a"],VImg:gt["a"],VLayout:E["a"],VRow:y["a"],VTab:re["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"mt-3 ml-3"},[a("p",{staticClass:"text-h6"},[t._v(" メッセージ ")])]),a("v-row",{staticClass:"mr-2 mt-0"},[a("v-col",{attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:""},on:{click:t.returnPage}},[a("v-icon",[t._v(" mdi-arrow-left-thick ")])],1)],1)],1),a("v-divider",{staticClass:"mt-3"}),a("v-card",{staticClass:"mt-3",attrs:{height:"550"}},[a("v-alert",{attrs:{outlined:"",color:"yellow darken-3",height:"550"}},[a("v-row",{staticClass:"mt-0"},[a("v-col",{attrs:{cols:"2"}},[a("v-avatar",{attrs:{size:"50"}},[a("img",{attrs:{src:t.railsURL+t.user.avatar_url}})])],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",label:"件名"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),a("v-row",[a("v-col",[a("v-select",{attrs:{items:t.yearrange,label:"年",height:"20",dense:""},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1),a("v-col",[a("v-select",{attrs:{items:t.monthrange,label:"月",height:"20",dense:""},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),a("v-col",[a("v-select",{attrs:{items:t.daysrange,label:"日",height:"20",dense:""},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}})],1)],1),a("v-row",[a("v-col",[a("v-select",{attrs:{items:t.hoursrange,label:"時",height:"20",dense:""},model:{value:t.hour,callback:function(e){t.hour=e},expression:"hour"}})],1),a("v-col",[a("v-select",{attrs:{items:t.minutesrange,label:"分",height:"20",dense:""},model:{value:t.minute,callback:function(e){t.minute=e},expression:"minute"}})],1)],1),a("v-row",[a("v-col",[a("input",{ref:"file",attrs:{name:"uploadedImage",type:"file",accept:"image/png, image/jpeg"},on:{change:t.onFileChange}}),a("br")])],1),a("v-row",[a("v-container",{attrs:{fluid:""}},[a("v-textarea",{attrs:{counter:"",label:"メッセージ",value:t.value,outlined:""},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],1)],1),a("v-row",{staticClass:"mt-0",attrs:{justify:"end"}},[a("v-card-actions",[a("v-btn",{attrs:{outlined:"",text:""},on:{click:t.sendMessage}},[t._v("送信する")])],1)],1)],1)],1)],1)},ce=[],ue=a("5530"),me=(a("d3b7"),a("ddb0"),a("2f62")),de=2021,ve=2100,ge=new Array(ve-de+1).fill(null).map((function(t,e){return e+de})),he=1,fe=12,pe=new Array(fe-he+1).fill(null).map((function(t,e){return e+he})),_e=1,be=31,ke=new Array(be-_e+1).fill(null).map((function(t,e){return e+_e})),we=Object($t["a"])(Array(24)).map((function(t,e){return e})),Ie=Object($t["a"])(Array(60).keys()),Ve={props:["to_id"],data:function(){return{head:"メッセージ送信",value:null,item_minutes:["0","1","2","3","4","5"],user:[],select:"",to:"",body:"",year:"2021",yearrange:ge,month:"6",monthrange:pe,day:"3",daysrange:ke,hour:"",hoursrange:we,minute:"",minutesrange:Ie,time:[],title:[],message:{},uploadedImage:"",railsURL:"https://13.114.43.226"}},computed:Object(ue["a"])({},Object(me["b"])(["user_token"])),mounted:function(){var t=this;P().get("/users/"+this.to_id,{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}},console.log(this.user_token)).then((function(e){return t.user=e.data,console.log(e)}))},methods:{sendMessage:function(){var t=this,e=new Date(this.year,this.month-1,this.day,this.hour,this.minute),a=new FormData;a.append("image",this.uploadedImage),a.append("from_id",localStorage.getItem("id")),a.append("to_id",this.to_id),a.append("title",this.title),a.append("body",this.body),a.append("time",e.getTime()/1e3),P().post("/users/"+localStorage.getItem("id")+"/messages",a,{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return console.log(e.data),t.$router.push({name:"Send"})}))},onFileChange:function(t){t.preventDefault();var e=t.target.files;this.uploadedImage=e[0],console.log(e),console.log(this.uploadedImage)},returnPage:function(){this.$router.push({name:"Send"})}}},xe=Ve,Ce=(a("90a4"),a("0798")),ye=a("a844"),Se=Object(l["a"])(xe,le,ce,!1,null,"2af1b4d4",null),Le=Se.exports;u()(Se,{VAlert:Ce["a"],VAvatar:G["a"],VBtn:k["a"],VCard:w["a"],VCardActions:I["a"],VCol:V["a"],VContainer:x["a"],VDivider:J["a"],VIcon:C["a"],VRow:y["a"],VSelect:zt["a"],VTextField:U["a"],VTextarea:ye["a"]});var je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"mt-3 ml-3"},[a("p",{staticClass:"text-h6"},[t._v(" 大切な人を検索 ")])]),a("v-row",[a("v-btn",{attrs:{icon:""},on:{click:t.returnPage}},[a("v-icon",[t._v(" mdi-arrow-left-thick ")])],1)],1),a("v-divider",{staticClass:"mt-4"}),a("v-card",{staticClass:"mt-8"},[a("v-card-text",[a("v-text-field",{attrs:{outlined:"",label:"メールアドレス"},model:{value:t.mail,callback:function(e){t.mail=e},expression:"mail"}})],1),a("v-card-actions",[a("v-btn",{on:{click:t.searchUser}},[t._v(" 検索 ")])],1),a("v-col",[t._v(" "+t._s(t.userSearched.name)+" ")]),a("v-col",[t.userSearched.id>0?a("v-btn",{on:{click:function(e){return t.followFeind(t.userSearched.id)}}},[t._v(" 申請 ")]):t._e()],1)],1),a("v-card",{staticClass:"mt-8"},[a("v-card-title",[t._v(" 申請中 ")]),a("v-list",t._l(t.toFriend,(function(e,s){return a("v-list-item",{key:s},[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(e.name)+" ")])],1),a("v-list-item-action",[a("v-btn",{on:{click:function(a){return t.destroyFriend(e.id)}}},[t._v(" 削除 ")])],1)],1)})),1)],1),a("v-card",{staticClass:"mt-8"},[a("v-card-title",[t._v(" 保留中 ")]),a("v-list",t._l(t.fromFriend,(function(e,s){return a("v-list-item",{key:s},[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(e.name)+" ")])],1),a("v-list-item-action",[a("v-btn",{on:{click:function(a){return t.acceptFriend(e.id)}}},[t._v(" 承諾 ")]),a("v-btn",{on:{click:function(a){return t.destroyFriend(e.id)}}},[t._v(" 削除 ")])],1)],1)})),1)],1)],1)},Re=[],$e={data:function(){return{toFriend:{},fromFriend:{},status:"",userSearched:{},mail:""}},mounted:function(){var t=this;P().get("/users/"+localStorage.getItem("id")+"/followings",{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.toFriend=e.data,console.log(e.data)})),P().get("/users/"+localStorage.getItem("id")+"/followers",{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.fromFriend=e.data,console.log(e.data)}))},methods:{destroyFriend:function(t){var e=this;console.log(t),P().delete("/users/"+t+"/relationships",{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(t){return e.status=t.data.status,console.log(t),e.$router.push({name:"Home"})}))},acceptFriend:function(t){var e=this;console.log(t),P().put("/users/"+t+"/relationships",{status:"true"},{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(t){return e.status=t.data.status,console.log(t),e.$router.push({name:"Home"})}))},searchUser:function(){var t=this;P().get("/users/"+localStorage.getItem("id")+"/search",{params:{email:this.mail}},{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return console.log(e),t.userSearched=e.data,console.log(t.userSearched)}))},followFeind:function(t){var e=this;console.log(t),P().post("/users/"+t+"/relationships",{user_id:t},{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(t){return console.log(t),e.$router.push({name:"TimeLine"})}))},returnPage:function(){this.$router.push({name:"Send"})}}},Oe=$e,Fe=Object(l["a"])(Oe,je,Re,!1,null,null,null),Pe=Fe.exports;u()(Fe,{VBtn:k["a"],VCard:w["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:V["a"],VContainer:x["a"],VDivider:J["a"],VIcon:C["a"],VList:K["a"],VListItem:Q["a"],VListItemAction:rt["a"],VListItemContent:W["a"],VListItemTitle:W["c"],VRow:y["a"],VTextField:U["a"]});var Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",t._l(t.messages,(function(e,s){return a("v-list-item",{key:e.time},[a("v-card",{attrs:{height:"100",width:"800"}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-avatar",[a("img",{attrs:{src:t.railsURL+t.avatar_urls[s]}})])],1),a("v-col",{attrs:{cols:"9"}},[t._v(" "+t._s(t.user_names[s])+"さんからメッセージが届きます ")])],1)],1)],1)})),1)},De=[],Te="",Ee="",Ae={data:function(){return{messages:[],dialog:!1,railsURL:"https://13.114.43.226",user_names:[],users:[],avatar_urls:[]}},methods:{},mounted:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P().get("/sending/",{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return console.log(e),t.messages=e.data.messages,t.messages.forEach((function(t){return Te=new Date(1e3*t.time),t.time=Te.getFullYear()+"/"+("0"+(Te.getMonth()+1)).slice(-2)+"/"+("0"+Te.getDate()).slice(-2)+" "+("0"+Te.getHours()).slice(-2)+":"+("0"+Te.getMinutes()).slice(-2),Ee=new Date(1e3*t.created_time),t.created_time=Ee.getFullYear()+"/"+("0"+(Ee.getMonth()+1)).slice(-2)+"/"+("0"+Ee.getDate()).slice(-2)+" "+("0"+Ee.getHours()).slice(-2)+":"+("0"+Ee.getMinutes()).slice(-2)})),t.users=e.data.users}));case 2:t.users.forEach((function(e){return P().get("users/"+e.id,{headers:{"access-token":localStorage.getItem("access-token"),uid:localStorage.getItem("uid"),client:localStorage.getItem("client")}}).then((function(e){return t.user_names.push(e.data.name),t.avatar_urls.push(e.data.avatar_url)}))}));case 3:case"end":return e.stop()}}),e)})))()}},Ue=Ae,Be=Object(l["a"])(Ue,Me,De,!1,null,null,null),ze=Be.exports;u()(Be,{VAvatar:G["a"],VCard:w["a"],VCol:V["a"],VContainer:x["a"],VListItem:Q["a"],VRow:y["a"]}),s["a"].use(h["a"]);var qe=[{path:"/",name:"Login",component:z,meta:{isPublic:!0}},{path:"/home",name:"Home",component:L},{path:"/send",name:"Send",component:tt,props:!0},{path:"/received",name:"Received",component:it},{path:"/profile",name:"Profile",component:Lt},{path:"/profile_edit",name:"ProfileEdit",component:Nt},{path:"/other_profile",name:"OtherProfile",component:It,props:!0},{path:"/test",name:"Test",component:Wt},{path:"/timeline",name:"TimeLine",component:ie},{path:"/sendmessage",name:"SendMessage",component:Le,props:!0},{path:"/messagecontent",name:"MessageContent",component:ft},{path:"/showrequest",name:"ShowRequest",component:Pe},{path:"/sending",name:"Sending",component:ze}],He=new h["a"]({mode:"history",base:"/sakura-front/",routes:qe});He.beforeEach((function(t,e,a){t.matched.some((function(t){return!t.meta.isPublic}))&&!localStorage.getItem("access-token")?a({name:"Login",query:{redirect:t.fullPath}}):a()}));var Ne=He,Ye=a("0e44");s["a"].use(me["a"]);var Ge=new me["a"].Store({state:{user_token:{uid:"","access-token":"",client:""},flash_message:{status:!1,messasge:""},timeline:""},mutations:{USER_LOGIN:function(t,e){t.user_token=e},setMessage:function(t,e){t.flash_message=e},editComment:function(t,e){t.timeline=e}},actions:{userLogin:function(t,e){return Object($["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,s("USER_LOGIN",e),a.abrupt("return",e);case 3:case"end":return a.stop()}}),a)})))()},editComment:function(t,e){return Object($["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,s("editComment",e),a.abrupt("return",e);case 3:case"end":return a.stop()}}),a)})))()}},plugins:[Object(Ye["a"])({})],modules:{}}),Je=a("f309");s["a"].use(Je["a"]);var Ke=new Je["a"]({});s["a"].config.productionTip=!1,new s["a"]({router:Ne,store:Ge,vuetify:Ke,render:function(t){return t(g)}}).$mount("#app")},5786:function(t,e,a){},"5ccf":function(t,e,a){},"889a":function(t,e,a){},"8f6e":function(t,e,a){},"90a4":function(t,e,a){"use strict";a("5786")},ac29:function(t,e,a){"use strict";a("8f6e")},dd18:function(t,e,a){"use strict";a("0724")},e46a:function(t,e,a){"use strict";a("889a")}});
//# sourceMappingURL=app.22c7da1e.js.map